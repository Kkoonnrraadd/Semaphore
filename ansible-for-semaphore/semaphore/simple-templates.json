[
  {
    "name": "Self-Service Data Refresh - DRY RUN",
    "description": "Preview what the data refresh would do (SAFE - no changes made)",
    "playbook": "playbooks/simple_self_service.yaml",
    "inventory": "inventory/hosts.ini",
    "environment": {
      "AZURE_CONFIG_DIR": "/home/semaphore/.azure"
    },
    "extra_vars": {
      "dry_run_mode": true
    },
    "survey": [
      {
        "name": "source_env",
        "title": "Source Environment",
        "description": "Environment to copy data FROM (e.g., qa2)",
        "type": "text",
        "required": true
      },
      {
        "name": "dest_env",
        "title": "Destination Environment", 
        "description": "Environment to copy data TO (e.g., dev)",
        "type": "text",
        "required": true
      },
      {
        "name": "source_sub_id",
        "title": "Source Subscription ID",
        "description": "Azure subscription ID for source",
        "type": "text",
        "required": true
      },
      {
        "name": "dest_sub_id",
        "title": "Destination Subscription ID",
        "description": "Azure subscription ID for destination", 
        "type": "text",
        "required": true
      },
      {
        "name": "source_ns",
        "title": "Source Namespace",
        "description": "Source namespace (e.g., manufacturo)",
        "type": "text",
        "required": true
      },
      {
        "name": "dest_ns", 
        "title": "Destination Namespace",
        "description": "Destination namespace (e.g., test)",
        "type": "text",
        "required": true
      },
      {
        "name": "customer",
        "title": "Customer Alias",
        "description": "Customer identifier for this refresh",
        "type": "text",
        "required": true
      }
    ]
  },
  {
    "name": "Self-Service Data Refresh - PRODUCTION",
    "description": "Execute actual data refresh (CAUTION: makes real changes)",
    "playbook": "playbooks/simple_self_service.yaml",
    "inventory": "inventory/hosts.ini",
    "environment": {
      "AZURE_CONFIG_DIR": "/home/semaphore/.azure"
    },
    "extra_vars": {
      "dry_run_mode": false
    },
    "survey": [
      {
        "name": "source_env",
        "title": "Source Environment",
        "description": "Environment to copy data FROM",
        "type": "text",
        "required": true
      },
      {
        "name": "dest_env",
        "title": "Destination Environment",
        "description": "Environment to copy data TO",
        "type": "text", 
        "required": true
      },
      {
        "name": "source_sub_id",
        "title": "Source Subscription ID",
        "description": "Azure subscription ID for source",
        "type": "text",
        "required": true
      },
      {
        "name": "dest_sub_id",
        "title": "Destination Subscription ID", 
        "description": "Azure subscription ID for destination",
        "type": "text",
        "required": true
      },
      {
        "name": "source_ns",
        "title": "Source Namespace", 
        "description": "Source namespace",
        "type": "text",
        "required": true
      },
      {
        "name": "dest_ns",
        "title": "Destination Namespace",
        "description": "Destination namespace", 
        "type": "text",
        "required": true
      },
      {
        "name": "customer",
        "title": "Customer Alias",
        "description": "Customer identifier",
        "type": "text",
        "required": true
      },
      {
        "name": "skip_steps",
        "title": "Skip Steps (Optional)",
        "description": "Comma-separated steps to skip (e.g., restore,stop)",
        "type": "text",
        "required": false
      },
      {
        "name": "max_wait",
        "title": "Max Wait Time (Minutes)",
        "description": "Maximum time to wait for operations",
        "type": "integer",
        "default": 40,
        "required": false
      }
    ]
  },
  {
    "name": "Self-Service - Database Only",
    "description": "Copy database only (skip environment stop/start)",
    "playbook": "playbooks/simple_self_service.yaml", 
    "inventory": "inventory/hosts.ini",
    "environment": {
      "AZURE_CONFIG_DIR": "/home/semaphore/.azure"
    },
    "extra_vars": {
      "dry_run_mode": false,
      "skip_steps": ["restore", "stop_environment", "copy_attachments", "adjust_resources", "start_environment", "delete_resources", "manage_permissions"]
    },
    "survey": [
      {
        "name": "source_env",
        "title": "Source Environment",
        "description": "Environment to copy data FROM",
        "type": "text",
        "required": true
      },
      {
        "name": "dest_env", 
        "title": "Destination Environment",
        "description": "Environment to copy data TO",
        "type": "text",
        "required": true
      },
      {
        "name": "source_sub_id",
        "title": "Source Subscription ID",
        "description": "Azure subscription ID for source",
        "type": "text", 
        "required": true
      },
      {
        "name": "dest_sub_id",
        "title": "Destination Subscription ID",
        "description": "Azure subscription ID for destination",
        "type": "text",
        "required": true
      },
      {
        "name": "source_ns",
        "title": "Source Namespace",
        "description": "Source namespace",
        "type": "text",
        "required": true
      },
      {
        "name": "dest_ns",
        "title": "Destination Namespace", 
        "description": "Destination namespace",
        "type": "text",
        "required": true
      },
      {
        "name": "customer",
        "title": "Customer Alias",
        "description": "Customer identifier",
        "type": "text",
        "required": true
      },
      {
        "name": "dry_run_mode",
        "title": "Dry Run Mode",
        "description": "Preview only (recommended for testing)",
        "type": "boolean",
        "default": true,
        "required": false
      }
    ]
  }
]
